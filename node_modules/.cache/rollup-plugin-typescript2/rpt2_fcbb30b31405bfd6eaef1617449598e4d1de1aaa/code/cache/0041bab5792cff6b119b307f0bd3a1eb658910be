{"code":"import { isAction } from \"../api/action\";\r\nimport { $mobx, isAtom, isComputedValue, isObservableArray, isObservableMap, isObservableObject, isReaction, isObservableSet, die, isFunction } from \"../internal\";\r\nexport function getAtom(thing, property) {\r\n    if (typeof thing === \"object\" && thing !== null) {\r\n        if (isObservableArray(thing)) {\r\n            if (property !== undefined)\r\n                die(23);\r\n            return thing[$mobx].atom_;\r\n        }\r\n        if (isObservableSet(thing)) {\r\n            return thing[$mobx];\r\n        }\r\n        if (isObservableMap(thing)) {\r\n            if (property === undefined)\r\n                return thing.keysAtom_;\r\n            const observable = thing.data_.get(property) || thing.hasMap_.get(property);\r\n            if (!observable)\r\n                die(25, property, getDebugName(thing));\r\n            return observable;\r\n        }\r\n        if (property && !thing[$mobx])\r\n            thing[property]; // See #1072\r\n        if (isObservableObject(thing)) {\r\n            if (!property)\r\n                return die(26);\r\n            const observable = thing[$mobx].values_.get(property);\r\n            if (!observable)\r\n                die(27, property, getDebugName(thing));\r\n            return observable;\r\n        }\r\n        if (isAtom(thing) || isComputedValue(thing) || isReaction(thing)) {\r\n            return thing;\r\n        }\r\n    }\r\n    else if (isFunction(thing)) {\r\n        if (isReaction(thing[$mobx])) {\r\n            // disposer function\r\n            return thing[$mobx];\r\n        }\r\n    }\r\n    die(28);\r\n}\r\nexport function getAdministration(thing, property) {\r\n    if (!thing)\r\n        die(29);\r\n    if (property !== undefined)\r\n        return getAdministration(getAtom(thing, property));\r\n    if (isAtom(thing) || isComputedValue(thing) || isReaction(thing))\r\n        return thing;\r\n    if (isObservableMap(thing) || isObservableSet(thing))\r\n        return thing;\r\n    if (thing[$mobx])\r\n        return thing[$mobx];\r\n    die(24, thing);\r\n}\r\nexport function getDebugName(thing, property) {\r\n    let named;\r\n    if (property !== undefined) {\r\n        named = getAtom(thing, property);\r\n    }\r\n    else if (isAction(thing)) {\r\n        return thing.name;\r\n    }\r\n    else if (isObservableObject(thing) || isObservableMap(thing) || isObservableSet(thing)) {\r\n        named = getAdministration(thing);\r\n    }\r\n    else {\r\n        // valid for arrays as well\r\n        named = getAtom(thing);\r\n    }\r\n    return named.name_;\r\n}\r\n//# sourceMappingURL=type-utils.js.map","references":["/Users/sergeigolishnikov/development/web/mobx/packages/mobx/src/api/action.ts","/Users/sergeigolishnikov/development/web/mobx/packages/mobx/src/internal.ts"],"map":"{\"version\":3,\"file\":\"type-utils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/types/type-utils.ts\"],\"names\":[],\"mappings\":\"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\"}"}
