{"code":"import { once, untrackedEnd, untrackedStart, die } from \"../internal\";\r\nexport function hasInterceptors(interceptable) {\r\n    return interceptable.interceptors_ !== undefined && interceptable.interceptors_.length > 0;\r\n}\r\nexport function registerInterceptor(interceptable, handler) {\r\n    const interceptors = interceptable.interceptors_ || (interceptable.interceptors_ = []);\r\n    interceptors.push(handler);\r\n    return once(() => {\r\n        const idx = interceptors.indexOf(handler);\r\n        if (idx !== -1)\r\n            interceptors.splice(idx, 1);\r\n    });\r\n}\r\nexport function interceptChange(interceptable, change) {\r\n    const prevU = untrackedStart();\r\n    try {\r\n        // Interceptor can modify the array, copy it to avoid concurrent modification, see #1950\r\n        const interceptors = [...(interceptable.interceptors_ || [])];\r\n        for (let i = 0, l = interceptors.length; i < l; i++) {\r\n            change = interceptors[i](change);\r\n            if (change && !change.type)\r\n                die(14);\r\n            if (!change)\r\n                break;\r\n        }\r\n        return change;\r\n    }\r\n    finally {\r\n        untrackedEnd(prevU);\r\n    }\r\n}\r\n//# sourceMappingURL=intercept-utils.js.map","references":["/Users/sergeigolishnikov/development/web/mobx/packages/mobx/src/internal.ts"],"map":"{\"version\":3,\"file\":\"intercept-utils.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/types/intercept-utils.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAU,IAAI,EAAE,YAAY,EAAE,cAAc,EAAE,GAAG,EAAE,MAAM,aAAa,CAAA;AAQ7E,MAAM,UAAU,eAAe,CAAC,aAAkC;IAC9D,OAAO,aAAa,CAAC,aAAa,KAAK,SAAS,IAAI,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAA;AAC9F,CAAC;AAED,MAAM,UAAU,mBAAmB,CAC/B,aAAgC,EAChC,OAAwB;IAExB,MAAM,YAAY,GAAG,aAAa,CAAC,aAAa,IAAI,CAAC,aAAa,CAAC,aAAa,GAAG,EAAE,CAAC,CAAA;IACtF,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;IAC1B,OAAO,IAAI,CAAC,GAAG,EAAE;QACb,MAAM,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAA;QACzC,IAAI,GAAG,KAAK,CAAC,CAAC;YAAE,YAAY,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,CAAA;IAC/C,CAAC,CAAC,CAAA;AACN,CAAC;AAED,MAAM,UAAU,eAAe,CAC3B,aAAuC,EACvC,MAAgB;IAEhB,MAAM,KAAK,GAAG,cAAc,EAAE,CAAA;IAC9B,IAAI;QACA,wFAAwF;QACxF,MAAM,YAAY,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,aAAa,IAAI,EAAE,CAAC,CAAC,CAAA;QAC7D,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YACjD,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAA;YAChC,IAAI,MAAM,IAAI,CAAE,MAAc,CAAC,IAAI;gBAAE,GAAG,CAAC,EAAE,CAAC,CAAA;YAC5C,IAAI,CAAC,MAAM;gBAAE,MAAK;SACrB;QACD,OAAO,MAAM,CAAA;KAChB;YAAS;QACN,YAAY,CAAC,KAAK,CAAC,CAAA;KACtB;AACL,CAAC\"}"}
